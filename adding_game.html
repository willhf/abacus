<html>
	<head>
	</head>
	<body>
	<div id="question" style="font-size: 5em;"></div>
	<svg id="abacus-svg" ></svg>
	<script src="abacus.js" charset="utf-8"></script>
	<script type="text/javascript">

	function random_nonzero_digit() {
		return random_number(9) + 1;
	}

	var start = random_number(1000);
	var next_add = random_nonzero_digit();
	var answer = start + next_add;
	document.getElementById('question').innerHTML = next_add;

	var ab = new Abacus(start, function(abacus) {
		var val = abacus.get_number();

		if (val != answer) {
			return;
		}

		var prev_next_add = next_add;
		next_add = random_nonzero_digit();
		while (next_add == prev_next_add) {
			next_add = random_nonzero_digit();
		}
		start = answer;
		answer = val + next_add;
		document.getElementById('question').innerHTML = next_add;
	});

	function reset_question() {
		ab.set_number(start);
	}

	</script>
	</br> <a href="javascript:void(0);" onclick="reset_question();">reset question</a>
	</br> <a href="javascript:void(0);" onclick="ab.toggle_labels();">toggle labels</a>
	</br> <a href="javascript:void(0);" onclick="ab.toggle_interior_lines();">toggle interior lines</a>
	</body>
</html>

